/*	
 *  @preserve
 *	js-utils v6.29
 *	
 *	Copyright (c) 2020 Lubo Milanov
 *  lmilanov@amexy.com
 *	www.amexy.com
 *
 *	Released under MIT License.
 *	http://en.wikipedia.org/wiki/MIT_License
 */
const _os=(()=>{const t=navigator.userAgent.toLowerCase(),e={jsVersion:6.29,os:"unknown",android:/android/i.test(t),ios:/(iphone|ipad|ipod)/i.test(t),touch:"ontouchstart"in window,language:navigator.language,width:window.screen.width,height:window.screen.height,webkit:!1,ua:t};e.desktop=/(windows|macintosh|mac|linux)/i.test(t)&&!e.android&&!/(mobile|phone)/i.test(t),e.mobile=e.touch&&!e.desktop;let n=/(mac|linux|windows|android|iphone|ipad|ipod|blackberry|iemobile|opera mini)/.exec(t);if(n)if(e.os=n[0],e[n[0]]=!0,e.android)n=t.match(/android\s([0-9.]*)/),e.osVersion=n?n[1]:0,e.webView=null!=window.Android||/android.*applewebkit(?=.*version)/.test(t);else if(e.ios)n=t.match(/os\s([0-9_]*)/),e.osVersion=n?n[1].replace(/_/g,"."):0,e.uiWebView=/\(ip.*applewebkit(?!.*(version|crios)).*mobile(\/[a-z0-9]+)?$/.test(t);else if(e.mac)n=t.match(/mac os x\s([0-9_]*)/),e.osVersion=n?n[1].replace(/_/g,"."):0;else if(e.x11)n=navigator.userAgent.match(/(X11;)[ /]([\w.]+)/),e.osVersion=n?n[2]:0;else if(e.windows)if(e.desktop){const t=[{s:"10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"8",r:/(Windows 8|Windows NT 6.2)/},{s:"7",r:/(Windows 7|Windows NT 6.1)/},{s:"Vista",r:/Windows NT 6.0/},{s:"Server 2003",r:/Windows NT 5.2/},{s:"XP",r:/(Windows NT 5.1|Windows XP)/},{s:"2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"ME",r:/(Win 9x 4.90|Windows ME)/},{s:"98",r:/(Windows 98|Win98)/},{s:"95",r:/(Windows 95|Win95|Windows_95)/},{s:"NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"CE",r:/Windows CE/},{s:"3.11",r:/Win16/}];for(let n=0;n<t.length;n++){let i=t[n];if(i.r.test(navigator.userAgent)){e.osVersion=i.s;break}}}else n=navigator.userAgent.match(/Windows Phone(?:.*? OS|)[ /]([0-9.]*)/),e.osVersion=n?n[1]:0;if(n=/(opera|opr)(?:.*version|)[ /]([\w.]+)/.exec(t)||/(edge)[ /]([\w.]+)/.exec(t)||/(ucbrowser)[ /]([\w.]+)/.exec(t)||/(samsungbrowser)[ /]([\w.]+)/.exec(t)||/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(trident)(?:.*rv:([\w.]+))?/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t),n){switch(e.browser=n[1]||"",e.browser){case"trident":e.browser="msie";break;case"opr":e.browser="opera";break;case"chrome":e.webkit=!0;break;case"webkit":e.browser="safari"}e[e.browser]=!0,e.browserVersion=n[2]||0,e["v"+e.browser]=parseInt(e.browserVersion,10)}return e})(),callbackEvent=(t,e,n)=>{t&&(!0===Array.isArray(e)?t.apply(n,e):t.call(n,e))},dispatchCustomEvent=(t,e,n=null,i=!1,s=!1)=>{t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:i,cancelable:s}))},docReady=t=>{if("complete"===document.readyState)window.setTimeout(t);else{const e=()=>{document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()};document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e)}},hideContextMenu=t=>{t.target instanceof HTMLInputElement||t.target.hasAttribute("contenteditable")||EventPlugin.preventDefault(t)};Object.defineProperty(Array.prototype,"copy",{value:function(){const t=[];for(let e=0;e<this.length;++e)Array.isArray(this[e])?t[e]=this[e].copy():t[e]=this[e];return t}}),Object.defineProperty(Array.prototype,"containSame",{value:function(t){return!(!Array.isArray(t)||this.length!==t.length)&&this.every(e=>t.includes(e))}}),Object.defineProperty(Array.prototype,"difference",{value:function(t){return this.filter(e=>!t.includes(e))}}),Object.defineProperty(Array.prototype,"equal",{value:function(t){return!(!Array.isArray(t)||this.length!==t.length)&&this.every((e,n)=>e===t[n])}}),Object.defineProperty(Array.prototype,"get",{value:function(t,e){return this.filter(n=>n[t]===e)}}),Object.defineProperty(Array.prototype,"getByKey",{value:function(t){return this.filter(e=>e[t])}}),Object.defineProperty(Array.prototype,"getChildAt",{value:function(t){return this[Math.carousel(t,this.length)]}}),Object.defineProperty(Array.prototype,"getValuesByKey",{value:function(t){return this.map(e=>e[t])}}),Object.defineProperty(Array.prototype,"indexOfObj",{value:function(t,e){for(let n=0;n<this.length;++n)if(this[n][t]==e)return n;return-1}}),Object.defineProperty(Array.prototype,"insert",{value:function(t){return this.splice.apply(this,[t,0].concat(Array.prototype.slice.call(arguments,1))),this}}),Object.defineProperty(Array.prototype,"move",{value:function(t,e){return t>=0&&e>=0&&t!=e&&this.splice(e,0,this.splice(t,1)[0]),this}}),Object.defineProperty(Array.prototype,"randomItem",{value:function(t=!1){const e=Math.randomFromTo(0,this.length-1);return t?this.splice(e,1)[0]:this[e]}}),Object.defineProperty(Array.prototype,"remove",{value:function(t){return this.filter(e=>e!==t)}}),Object.defineProperty(Array.prototype,"removeByKeyValue",{value:function(t,e){return this.filter(n=>n[t]!==e)}}),Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(let t=this.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this[t],this[e]]=[this[e],this[t]]}return this}}),Object.defineProperty(Array.prototype,"size",{value:function(){let t=0;for(let e=0;e<this.length;++e)this[e]&&(t+=1);return t}}),Object.defineProperty(Array.prototype,"sortOn",{value:function(t,e=!1){return this.sort((function(n,i){let s=0;if(0==isNaN(n[t])&&0==isNaN(i[t]))s=n[t]-i[t];else{const e=String(n[t]).toLowerCase(),r=String(i[t]).toLowerCase();e<r?s=-1:e>r&&(s=1)}return e?-1*s:s})),this}}),Object.defineProperty(Array.prototype,"union",{value:function(t){return[...this,...t]}}),Object.clone=function(t){if(Array.isArray(t))return t.copy();const e={};for(const n in t)if(Object.hasProp(t,n)){let i=t[n];Array.isArray(i)?i=i.copy():Object.isObject(i)&&(i=Object.clone(i)),e[n]=i}return e},Object.cloneInstance=function(t){return Object.assign(Object.create(t),t)},Object.equals=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},Object.extend=function(t,e){return Object.assign({},t,e)},Object.getType=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},Object.isEmpty=function(t){if(null==t)return!0;const e=JSON.stringify(t);return"{}"==e||"[]"==e},Object.isFunction=function(t){return"function"===Object.getType(t)},Object.isObject=function(t){return"object"===Object.getType(t)},Object.hasProp=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},String.prototype.clean=function(){return this.replace(/\s+/g,"")},String.prototype.contains=function(t,e=!0){return e?this.toLowerCase().includes(t.toLowerCase()):this.includes(t)},String.prototype.clearTags=function(){return this.replace(/&nbsp;/g," ").replace(/(<([^>]+)>)/gi,"")},String.prototype.decodeAmp=function(){return this.replace(/&amp;/g,"&")},String.prototype.equals=function(...t){return t.indexOf(this.toString())>=0},String.prototype.firstWord=function(){const t=this.indexOf(" ");return'<span class="firstWord">'+this.substring(0,t)+"</span>"+this.substring(t,this.length)},String.prototype.html_encode=function(){return this.replace(/>/g,"&gt;").replace(/</g,"&lt;")},String.prototype.htmlToText=function(){const t=document.createElement("DIV");return t.innerHTML=this.toString(),t.textContent||t.innerText||""},String.prototype.isSanitizeChars=function(){return/[\u{0080}-\u{FFFF}]/gu.test(this)},String.prototype.isValidBGMobile=function(){return/^(\+?359|0)?8[789]\d{7}$/.test(this)},String.prototype.isValidChars=function(){return/^[^/\\()~!@#$%^&*{«»„““”‘’|\n\t….,;`^"<>'`}+:?®©]*$/.test(this)},String.prototype.isValidEmail=function(){return!this.isSanitizeChars()&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this)},String.prototype.isValidMobile=function(t=!0){return!this.isSanitizeChars()&&new RegExp("^(\\+\\d{1,3}?)?\\d{"+(t?"10":"8,15")+"}$").test(this.replace(/( |-|\(|\))/g,""))},String.prototype.isValidURL=function(){return/(\b((https?|ftp|file):\/\/|(www))[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|]*)/i.test(this)},String.prototype.replaceLink=function(t="_blank",e=!1){return this.replace(/(?:^|[^"'/])(\b((https?|ftp|file):\/\/|(www))[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|]*)/gi,(n,i)=>{const s=n!=i?n.substr(0,1):"",r=0==i.indexOf("www.")?"http://"+i:i;return e&&/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|gif|png|svg)/gi.test(r)?s+'<img ref="nofollow" src="'+r+'"/>':s+'<a ref="nofollow" href="'+r+'" target="'+t+'">'+i+"</a>"})},String.prototype.parseHTML=function(){const t=document.implementation.createHTMLDocument("");return t.body.innerHTML=this.toString(),t.body.children},String.prototype.shortenString=function(t,e=!1,n=1){const i=this.trim().replace(/<a\b[^>]*>/g,"").replace(/<\/a>/g,"").replace(/(<br>)+/gi," "),s=/<img .*?>/g;if(e&&s.test(i)){const e=i.match(s),r=i.split(s);if(r.join("").length+e.length*n<=t+"...".length)return i;let o,l,a="",c=0;for(let i=0;i<r.length;++i){if(o=r[i],l=0,null!=e[i]&&(l=n),o.length>t-c-l){a+=o.substring(0,t-c)+"...";break}a+=o,c+=o.length,null!=e[i]&&(a+=e[i],c+=n)}return a}return i.length>t+"...".length?i.substring(0,t)+"...":i},String.prototype.strongPass=function(t=6){let e=0,n=this.clean();if(n.length>=t){n=n.replace(/(\w)\1{1,}/,"$1"),/([\d])/.test(n)&&(e+=10),/[a-z]/.test(n)&&(e+=10),/[A-Z]/.test(n)&&(e+=10),/[A-Z].*[A-Z]/.test(n)&&(e+=10),/([\d])(.)([\w])/.test(n)&&(e+=10),/([a-zA-Z])(.)([\w])/.test(n)&&(e+=10),/([\W])([\W])/.test(n)&&(e+=15);const t=n.match(/[\W]/g);t&&(e+=15*t.length),e>=30&&(e+=10*Math.normalize(n.length-6,0,5))}return Math.min(e,100)},String.uuid=function(){let t="";const e="0123456789abcdef";for(let n=0;n<30;++n)t+=e.charAt(Math.getRandom(e.length));return[t.substr(0,8),t.substr(8,4),"4"+t.substr(12,3),"ab89".charAt(Math.getRandom("ab89".length))+t.substr(15,3),t.substr(18,12)].join("-").toString()},String.prototype.wordSplit=function(){return this.split(/[,\n.\s+]+/).remove("")},Math.calcStr=function(t){const e=(t=t.clean().replace("x","*")).match(/[-+*/]{0,1}[\d]*[.]{0,1}[\d]+/g);return e?Function("return "+e.join(""))():NaN},Math.carousel=function(t,e){return(t=t%e||0)<0?e+t:t>=e?t-e:t},Math.getRandom=function(t,e=0){return Math.floor(Math.random()*(t-e))+e},Math.getRandomColor=function(t=0,e=16777215){return"#"+Math.getRandom(e-t)+t},Math.minMax=function(t,e,n){return Math.max(Math.min(t,e),n)},Math.mix=function(t,e,n){return t+(e-t)*n},Math.normalize=function(t,e,n){return t<e?e:t>n?n:t},Math.percent=function(t,e){return parseFloat(t)/100*parseFloat(e)},Math.randomBoolean=function(){return 0===Math.getRandom(2)},Math.randomFromTo=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},Math.toClosest=function(t,e){let n=Number.MAX_VALUE,i=t,s=-1;for(let r=0;r<e.length;++r){const o=e[r],l=Math.abs(t-o);l<n&&(n=l,i=o,s=r)}return{value:i,index:s}},Math.toFixed=function(t,e=2){return parseFloat(parseFloat(t).toFixed(e))},Math.toPercent=function(t,e){return parseFloat(e)/parseFloat(t)*100};class Geom{static getTriangleHeights(t,e,n){const i=Geom.getTriangleFace(t,e,n);return i.side1_height=2*i.face/i.side1,i.side2_height=2*i.face/i.side2,i.side3_height=2*i.face/i.side3,i}static getTriangleMedian(t,e,n){const i=Geom.getTriangleFace(t,e,n);return i.side1_median=Math.sqrt(2*Math.pow(i.side2,2)+2*Math.pow(i.side3,2)-Math.pow(i.side1,2))/2,i.side2_median=Math.sqrt(2*Math.pow(i.side1,2)+2*Math.pow(i.side3,2)-Math.pow(i.side2,2))/2,i.side3_median=Math.sqrt(2*Math.pow(i.side1,2)+2*Math.pow(i.side2,2)-Math.pow(i.side3,2))/2,i}static getTriangleFace(t,e,n){const i={};return i.side1=Point.distance(t,e),i.side2=Point.distance(e,n),i.side3=Point.distance(n,t),i.p=(i.side1+i.side2+i.side3)/2,i.face=Math.sqrt((i.p-i.side1)*(i.p-i.side2)*(i.p-i.side3)*i.p),i}static getTriangleCenter(t,e,n){const i=new Point;return i.x=(t.x+e.x+n.x)/3,i.y=(t.y+e.y+n.y)/3,i}static deg2rad(t){return t*Math.PI/180}static rad2deg(t){return 180*t/Math.PI}static cos(t){return Math.cos(Geom.deg2rad(t))}static sin(t){return Math.sin(Geom.deg2rad(t))}static tan(t){return Math.tan(Geom.deg2rad(t))}static polar(t,e){return new Point(t*Math.sin(e),t*Math.cos(e))}static getAngle(t,e){return Geom.getDegrees(Geom.rad2deg(Math.atan2(t.y-e.y,t.x-e.x)))}static getAngleByPoint(t,e){const n=e.subtract(t);return Geom.getDegrees(Geom.rad2deg(Math.atan2(n.y,n.x)))}static getAngleFromRect(t,e){return Geom.getDegrees(Geom.rad2deg(Math.atan2(e,t)))}static translateToParent(t,e,n=new Point){return new Point(t.x*Geom.cos(e)-t.y*Geom.sin(e)+n.x,t.x*Geom.sin(e)+t.y*Geom.cos(e)+n.y)}static translateToLocal(t,e,n=new Point){return new Point((t.x-n.x)*Geom.cos(e)+(t.y-n.y)*Geom.sin(e),(t.y-n.y)*Geom.cos(e)-(t.x-n.x)*Geom.sin(e))}static getNearestPoint(t,e){let n=-1,i=Number.MAX_SAFE_INTEGER;for(let s=0;s<e.length;s++){const r=Point.distance(t,e[s]);Math.min(r,i)==r&&(i=r,n=s)}return{pos:n,point:e[n]}}static getDegrees(t){return(t%=360)<0&&(t+=360),t}static diffRotation(t,e){t=Geom.getDegrees(t),e=Geom.getDegrees(e);let n=Math.abs(t-e);return n>180&&(n=360-n),n}static resizeTo(t,e,n,i,s=!1){const r=e/t;return s&&(t=n,e=i),n>0&&t>=n&&(e=(t=n)*r),i>0&&e>=i&&(t=(e=i)/r),{width:t,height:e}}}class Point{constructor(t=0,e=0){this.x=t,this.y=e}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}get transformOrigin(){return this.x+"px "+this.y+"px"}add(t){return new Point(this.x+t.x,this.y+t.y)}clone(){return new Point(this.x,this.y)}degreesTo(t){return Math.atan2(this.y-t.y,this.x-t.x)*(180/Math.PI)}distance(t){return Point.distance(this,t)}equals(t){return this.x==t.x&&this.y==t.y}interpolate(t,e){return new Point((this.x+t.x)*e,(this.y+t.y)*e)}normalize(t){const e=this.magnitude;this.x=this.x/e*t,this.y=this.y/e*t}orbit(t,e,n,i){const s=i*(Math.PI/180);this.x=t.x+e*Math.cos(s),this.y=t.y+n*Math.sin(s)}revert(){return new Point(-1*this.y,-1*this.x)}subtract(t){return new Point(this.x-t.x,this.y-t.y)}static distance(t,e){const n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.sqrt(n*n+i*i)}}class Rectangle{constructor(t=0,e=0,n=0,i=0){this.x=this.offsetX=t,this.y=this.offsetY=e,this.width=n,this.height=i,this._rotate=0}get center(){return new Point(this.centerX,this.centerY)}get centerX(){return this.x+this.halfWidth}get centerY(){return this.y+this.halfHeight}get halfWidth(){return this.width/2}get halfHeight(){return this.height/2}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}get position(){return new Point(this.x,this.y)}get rotate(){return this._rotate}set rotate(t){this._rotate=Geom.getDegrees(t)}clone(){return Object.cloneInstance(this)}draw(t,e="red",n=1,i=1){0!==this.rotate&&(t.save(),t.translate(this.centerX*i,this.centerY*i),t.rotate(Geom.deg2rad(this.rotate)),t.translate(-this.centerX*i,-this.centerY*i)),t.lineWidth=n*i,t.beginPath(),t.rect(this.x*i,this.y*i,this.width*i,this.height*i),t.strokeStyle=e,t.stroke(),0!==this.rotate&&t.restore()}hitTestPoint(t){return t.x>=this.left&&t.y>=this.top&&t.x<=this.right&&t.y<=this.bottom}hitTestRect(t){return Math.abs(this.centerX-t.centerX)<this.halfWidth+t.halfWidth&&Math.abs(this.centerY-t.centerY)<this.halfHeight+t.halfHeight}resetPosition(){this.x=this.offsetX,this.y=this.offsetY}newPosition(t,e){this.newPositionX(t),this.newPositionY(e)}newPositionX(t){this.x=this.offsetX=t}newPositionY(t){this.y=this.offsetY=t}update(t,e){this.updateX(t),this.updateY(e)}updateX(t){this.x+=t}updateY(t){this.y+=t}updateOffset(t,e){this.updateOffsetX(t),this.updateOffsetY(e)}updateOffsetX(t){this.x=this.offsetX+t}updateOffsetY(t){this.y=this.offsetY+t}static objToRect(t){return new Rectangle(t.x,t.y,t.width,t.height)}}class Circle extends Rectangle{constructor(t=0,e=0,n=0){super(t,e,2*n,2*n),this.radius=n}clone(){return new Circle(this.x,this.y,this.radius)}draw(t,e="red",n=1,i=1){t.lineWidth=n*i,t.beginPath(),t.arc((this.x+this.radius)*i,(this.y+this.radius)*i,this.radius*i,0,2*Math.PI),t.strokeStyle=e,t.stroke()}hitTestPoint(t){const e=t.subtract(this.center);return Math.pow(e.x,2)+Math.pow(e.y,2)<=Math.pow(this.radius,2)}}class Cookies{static delete(t){Cookies.set(t,null,{expires:-1})}static get(t){t=t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1");const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null}static set(t,e,n){const i=Object.extend({path:"/",domain:null,secure:null,expires:24},n);if(!isNaN(i.expires)){const t=new Date;t.setTime(t.getTime()+60*i.expires*60*1e3),i.expires=t.toUTCString()}let s=t+"="+(e=encodeURIComponent(e))+";";for(const t in i)null!=i[t]&&(s+=t+"="+i[t]+";");document.cookie=s}}class EventPlugin{constructor(t,e,n){let i=null;function s(){let n,i=100;function s(r){if(ElUtil.document.off(r.type,s),r.timeStamp-n.timeStamp<=750){const s="touchend"==r.type?r.changedTouches[0].pageX:r.pageX,l="touchend"==r.type?r.changedTouches[0].pageY:r.pageY,a="touchstart"==n.type?n.changedTouches[0].pageX:n.pageX,c="touchstart"==n.type?n.changedTouches[0].pageY:n.pageY;if(e.endsWith("checkbox")){if(c-l>100)return!1;i=10;const n="swipevalcheckbox"==e?1==t.value:t.checked;("touchend"==r.type&&a-s>i&&n||"touchend"==r.type&&s-a>i&&!n||"mouseup"==r.type&&!r.target.closest("label")&&(a-s>i&&n||s-a>i&&!n))&&(EventPlugin.preventDefault(r),t.click())}else if(("swipeleft"==e||"swipeh"==e)&&a-s>i||("swiperight"==e||"swipeh"==e)&&s-a>i||("swipedown"==e||"swipev"==e)&&l-c>i||("swipeup"==e||"swipev"==e)&&c-l>i){EventPlugin.preventDefault(r);let t=Math.abs(s-a);if("swipedown"==e||"swipeup"==e||"swipev"==e){if(a-s>100)return!1;t=Math.abs(l-c)}else if(c-l>100)return!1;const u={diffPos:t,diffTimeStamp:r.timeStamp-n.timeStamp};o(n,"swipeh"==e?a-s>i?"swipeleft":"swiperight":"swipev"==e?l-c>i?"swipedown":"swipeup":e,u)}}}return t=>{("mousedown"==t.type&&0==t.button||"touchstart"==t.type&&1==t.changedTouches.length)&&(n=t,"mousedown"==t.type&&t.target.tagName&&"img"==t.target.tagName.toLowerCase()&&EventPlugin.preventDefault(t),ElUtil.document.on("mousedown"==t.type?"mouseup":"touchend",s))}}function r(){return t=>{"mouseleave"==t.type&&null!=n.secEventHandler?o(t,t.type,null,n.secEventHandler):o(t,t.type,null,n.eventHandler)}}function o(t,i=e,s=null,r=n.eventHandler){l({type:i,target:t.target,preventDefault:()=>{EventPlugin.preventDefault(t)},stopPropagation:()=>{EventPlugin.stopPropagation(t)},originalEvent:t,data:s},r)}function l(e,i=n.eventHandler){if(t.tagName&&"a"==t.tagName.toLowerCase()&&!t.target&&EventPlugin.preventDefault(e),n.childSelector){if(t==e.target)return;let s;if(n.childSelector.startsWith(">")){let i=getElement(t).children();i.length>0&&(i=i.filter(n.childSelector.substring(1)),i.length>0&&i.each(t=>{if(t[0].contains(e.target))return s=t}))}else s=getElement(e.target).closest(n.childSelector);s&&s.length&&!s.is(t)&&(e.target=s[0],callbackEvent(i,e,e.target))}else callbackEvent(i,e,t)}switch(this.isActive=()=>null!==i,this.removeEventListener=()=>{let s=[e];switch(e){case"swipeleft":case"swiperight":case"swipedown":case"swipeup":case"swipeh":case"swipev":case"tap":s=["touchstart","mousedown"];break;case"swipecheckbox":case"swipevalcheckbox":s=["touchstart","mousedown"],t.removeEventListener("change",n.eventHandler,n.useCapture);break;case"dblClick":s=["touchstart","mouseup"];break;case"hover":case"mouseenter":s=["mouseenter","mouseleave"];break;case"mouseover":s=["mouseover","mouseleave"];break;case"keyenter":s=["keydown"];break;case"singleClick":s=["click"]}for(let e=0;e<s.length;++e)t.removeEventListener(s[e],i,n.useCapture)},e){case"swipeleft":case"swiperight":case"swipedown":case"swipeup":case"swipeh":case"swipev":i=new s,_os.touch?t.addEventListener("touchstart",i,n.eventOption):t.addEventListener("mousedown",i,n.useCapture);break;case"swipecheckbox":case"swipevalcheckbox":i=new s,_os.touch?t.parentNode.addEventListener("touchstart",i,n.eventOption):t.parentNode.addEventListener("mousedown",i,n.useCapture),t.addEventListener("change",n.eventHandler,n.useCapture);break;case"dblClick":i=new function(){let t=0,e=0;return i=>{clearTimeout(e),0==i.button&&2==++t?(o(i),t=0):0==i.button&&1==t?e=setTimeout(()=>{null!=n.secEventHandler&&o(i,"singleClick",null,n.secEventHandler),t=0},300):t=0}},_os.touch?t.addEventListener("touchstart",i,n.eventOption):t.addEventListener("mouseup",i,n.useCapture);break;case"hover":case"mouseenter":i=new r,t.addEventListener("mouseenter",i,n.eventOption),null!=n.secEventHandler&&t.addEventListener("mouseleave",i,n.eventOption);break;case"mouseover":i=new r,t.addEventListener("mouseover",i,n.eventOption),null!=n.secEventHandler&&t.addEventListener("mouseleave",i,n.eventOption);break;case"keyenter":i=function(t){13==t.which&&o(t)},t.addEventListener("keydown",i,n.useCapture);break;case"tap":i=new function(){let t,n,i;function s(n){if(ElUtil.document.off(n.type,s),n.timeStamp-t.timeStamp>=50&&n.timeStamp-t.timeStamp<=350){const i="touchend"==n.type?n.changedTouches[0].pageX:n.pageX,s="touchend"==n.type?n.changedTouches[0].pageY:n.pageY,r="touchstart"==t.type?t.changedTouches[0].pageX:t.pageX,l="touchstart"==t.type?t.changedTouches[0].pageY:t.pageY;Math.abs(i-r)<=10&&Math.abs(s-l)<=10&&o(n,e)}}return e=>{!i&&("mousedown"==e.type&&0==e.button||"touchstart"==e.type&&1==e.changedTouches.length)&&(i=!0,clearTimeout(n),n=setTimeout(()=>{i=!1},1e3),t=e,ElUtil.document.on("mousedown"==e.type?"mouseup":"touchend",s))}},_os.touch?t.addEventListener("touchstart",i,n.eventOption):t.addEventListener("mousedown",i,n.useCapture);break;case"singleClick":i=new function(){let e,n;return i=>{t.tagName&&"a"==t.tagName.toLowerCase()&&EventPlugin.preventDefault(i),n||(n=!0,clearTimeout(e),e=setTimeout(()=>{n=!1},1e3),o(i))}},t.addEventListener("click",i,n.useCapture);break;default:(n.childSelector||"click"==e&&t.tagName&&"a"==t.tagName.toLowerCase())&&(i=n.childSelector?function(t){o(t,t.type)}:l,t.addEventListener(e,i,n.eventOption))}}static preventDefault(t){t&&("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault()}static stopPropagation(t){t&&t.stopPropagation()}static get supportPassiveEvents(){const t=Symbol.for("EventPlugin.passive");if(void 0===EventPlugin[t])try{const e=Object.defineProperty({},"passive",{get:()=>(EventPlugin[t]=!0,1)});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){EventPlugin[t]=!1}return EventPlugin[t]}}const loadJS=t=>new Promise((e,n)=>{const i=document.createElement("script");if(i.onload=()=>{e(i)},i.onerror=()=>{i.parentElement.removeChild(i),n("js_not_found")},"object"==typeof t&&"SCRIPT"==t.tagName)if(i.async=t.async,i.type=t.type||"text/javascript",t.parentElement)if(t.parentElement.insertBefore(i,t),t.parentElement.removeChild(t),t.src)i.src=t.src;else{const n=t.text||t.textContent||t.innerHTML||"";i.appendChild(document.createTextNode(n)),e(i)}else n("element_not_found");else document.head.appendChild(i),i.src=t}),checkNetworkConnection=t=>{window.addEventListener("online",e=>t(e.type)),window.addEventListener("offline",e=>t(e.type))},downloadFile=(t,e=null,n=!1)=>{let i,s,r;if("string"==typeof t)n?window.Blob&&(s=new Blob(["\ufeff",t],{encoding:document.characterSet,type:"text/plain;charset="+document.characterSet}),i=URL.createObjectURL(s)):(i=t,r=t.split("/").pop());else if(t instanceof Element){const n=t.nodeName.toLowerCase();if("canvas"==n)i=t.toDataURL("image/png").replace("image/png","image/octet-stream"),r=e||"image.png";else if("img"==n)i=t.src,r=i.split("/").pop();else if("audio"==n||"video"==n){if(i=t.src,""==i){const e=t.getElementsByTagName("source");null!=e[0]&&(i=e[0].src)}r=i.split("/").pop()}}if(i&&""!=i){const t=document.createElement("a");t.href=i,"download"in t?t.setAttribute("download",e||r):t.target="_blank",t.style.display="none",document.body.appendChild(t),setTimeout(()=>{t.click(),document.body.removeChild(t),s&&setTimeout(()=>URL.revokeObjectURL(i),250)},100)}},getURLParameters=(t=!1)=>{const e={};return(t?window.top:window).location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(t,n,i)=>{e[n]=decodeURIComponent(i)}),e},getURLParameterByName=(t,e=!1)=>{t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+encodeURIComponent(t)+"=([^&#]*)"),i=e?window.top:window,s=n.exec(i.location.href);return null!==s&&decodeURIComponent(s[1])},ajaxRequest=t=>{const e={},n=Object.extend({type:"GET",dataType:"text",autoSend:!0,data:null,fileInputs:null,error:null,headers:null,progress:null,onabort:null,success:null,timeout:3e4,url:""},t),i=new XMLHttpRequest;let{success:s,error:r,dataType:o,progress:l}=n,a=1;function c(t=500){r&&r.call(e,t,i.response)}function u(t){ajaxRequest.beforeSend&&ajaxRequest.beforeSend(i),i.send(t)}return e.done=e.success=t=>(s=t,e),e.progress=t=>(l=t,i.upload&&(i.upload.onprogress=function(t){t.lengthComputable&&l.call(e,Math.round(t.loaded/t.total*(100/a)))}),e),e.fail=t=>(r=t,e),e.abort=()=>(i.abort(),e),e.send=(t,e=null)=>{if(i.open(n.type,n.url),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.isObject(n.headers))for(const t in n.headers)Object.hasProp(n.headers,t)&&i.setRequestHeader(t,n.headers[t]);if(i.responseType=o,i.timeout=n.timeout,a=1,null!=t||null!=e){const n=function t(e,n=null,i=null){const s=n||new FormData;for(let n in e){if(!Object.hasProp(e,n))continue;const r=i?`${i}[${n}]`:n;Object.isFunction(e[n])&&(e[n]=e[n]()),e[n]instanceof Date?s.append(r,e[n].toISOString()):"object"!=typeof e[n]||e[n]instanceof File?s.append(r,e[n]):t(e[n],s,r)}return s}(t);if(null!=e){a=0;for(const t in e)if(Object.hasProp(e,t)){const i=e[t];for(let e=0;e<i.length;++e){const s=i[e];if(null!=s){a+=1;const e=i.length>1?"[]":"",r=s.name||String.uuid()+"."+s.type.split("/")[1];n.append(t+e,s,r)}}}}u(n)}else u(t)},i.onload=function(t){200==t.target.status&&null!=t.target.response?function(t){if(null!=l&&l.call(e,100),null!=s){if("string"==typeof t&&"json"==n.dataType)try{t=JSON.parse(t)}catch(t){return c(),!1}s.call(e,t)}}(t.target.response):c(t.target.status)},i.onerror=c,i.ontimeout=()=>c(408),n.onabort&&(i.onabort=n.onabort),"html"!=o&&"json"!=o||(o="text"),n.autoSend&&e.send(n.data,n.fileInputs),e};class AnimationUtil{constructor(t,e,n=null,i=null){"number"==typeof n&&(n={duration:n,complete:i});const s=Object.extend({easing:"easeOutBackLite",duration:400,delay:0,loop:0,revert:!1,revertEasing:null,progress:null,complete:null},n);let r,o,l,a,c,u,h,p,d,g,f,m,w,y=-1,b=0;function E(){window.cancelAnimationFrame?(o=new Transform(t),u=CSSUtil.getCSSProp(e,o,!0),"string"==typeof s.easing?h=EasingFn[s.easing]:Object.isFunction(s.easing)&&(h=s.easing),g=0,function(){if(s.loop=-1==s.loop?1/0:s.loop,s.loop>0||s.revert){s.loop>0&&(m=u),f={};for(const t in u)null!=u[t].initVal?f[t]=u[t].rawVal||u[t].initVal:null!=u[t].colorFrom&&(f[t]=CSSUtil.getColorByData(u[t],0));s.revertEasing&&s.revert&&("string"==typeof s.revertEasing?p=EasingFn[s.revertEasing]:Object.isFunction(s.revertEasing)&&(p=s.revertEasing))}}(),r=performance.now(),v()):(S(),s.complete&&s.complete(t))}function v(){if(a=c=1,s.duration>=25&&(l=performance.now()-r,a=Math.min(l/s.duration,1),c=s.revert&&1==w&&p?p(s.duration*a,0,1,s.duration):h(s.duration*a,0,1,s.duration)),function(e,n){let i,s;for(const r in e)Object.hasProp(e,r)&&(s=e[r].val,isNaN(s)?(null!=e[r].colorTo&&(s=CSSUtil.getColorByData(e[r],n)),t.style[r]=s):null!=t[r]?(i=parseFloat(e[r].initVal),t[r]=(s-i)*n+i):(i=parseFloat(e[r].initVal),s=(s-i)*n+i,1==e[r].transform?o.add(r,s,e[r].unit):t instanceof Element?t.style[r]=s+e[r].unit:t[r]=s+e[r].unit));o.execute()}(u,c),s.progress&&s.progress(a,t),1===a){let e;!w&&s.revert?(e=CSSUtil.getCSSProp(f,o,!0),w=!0):++g<=s.loop&&(s.revert||CSSUtil.setCSS(t,f,null),e=m,w=!1),e?(u=e,r=performance.now(),y=requestAnimationFrame(v)):(d=!0,s.complete&&s.complete(t))}else y=requestAnimationFrame(v)}function S(){d||CSSUtil.setCSS(t,s.revert?f:e,null)}0==s.delay?E():b=setTimeout(E,s.delay),this.stop=(e=!1,n=!1)=>{b>0&&clearTimeout(b),-1!=y&&window.cancelAnimationFrame&&(window.cancelAnimationFrame(y),y=-1),n&&S(),!d&&e&&(d=!0,s.complete&&s.complete(t))},this.resume=()=>{d||-1!=y||(r=performance.now()-l,v())},this.onProgress=()=>!d&&-1!=y}}const EasingFn={linear:(t,e,n,i)=>n*t/i+e,easeInBack:(t,e,n,i,s=1.70158)=>n*(t/=i)*t*((s+1)*t-s)+e,easeOutBack:(t,e,n,i,s=1.70158)=>n*((t=t/i-1)*t*((s+1)*t+s)+1)+e,easeInOutBack:(t,e,n,i,s=1.70158)=>(t/=i/2)<1?n/2*(t*t*((1+(s*=1.525))*t-s))+e:n/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e,easeInBackLite:(t,e,n,i)=>EasingFn.easeInBack(t,e,n,i,1),easeOutBackLite:(t,e,n,i)=>EasingFn.easeOutBack(t,e,n,i,1),easeOutBackDoubleLite:(t,e,n,i,s=.42539)=>EasingFn.easeOutBack(t,e,n,i,s),easeInQuad:(t,e,n,i)=>n*(t/=i)*t+e,easeOutQuad:(t,e,n,i)=>-n*(t/=i)*(t-2)+e,easeInOutQuad:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,easeInCubic:(t,e,n,i)=>n*(t/=i)*t*t+e,easeOutCubic:(t,e,n,i)=>n*((t=t/i-1)*t*t+1)+e,easeInOutCubic:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e,easeInQuart:(t,e,n,i)=>n*(t/=i)*t*t*t+e,easeOutQuart:(t,e,n,i)=>-n*((t=t/i-1)*t*t*t-1)+e,easeInOutQuart:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e,easeInQuint:(t,e,n,i)=>n*(t/=i)*t*t*t*t+e,easeOutQuint:(t,e,n,i)=>n*((t=t/i-1)*t*t*t*t+1)+e,easeInOutQuint:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,easeInSine:(t,e,n,i)=>-n*Math.cos(t/i*(Math.PI/2))+n+e,easeOutSine:(t,e,n,i)=>n*Math.sin(t/i*(Math.PI/2))+e,easeInOutSine:(t,e,n,i)=>-n/2*(Math.cos(Math.PI*t/i)-1)+e,easeInExpo:(t,e,n,i)=>0==t?e:n*Math.pow(2,10*(t/i-1))+e,easeOutExpo:(t,e,n,i)=>t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e,easeInOutExpo:(t,e,n,i)=>0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e,easeInCirc:(t,e,n,i)=>-n*(Math.sqrt(1-(t/=i)*t)-1)+e,easeOutCirc:(t,e,n,i)=>n*Math.sqrt(1-(t=t/i-1)*t)+e,easeInOutCirc:(t,e,n,i)=>(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInElastic:(t,e,n,i,s=1.70158)=>{if(0==t)return e;if(1==(t/=i))return e+n;let r=.3*i,o=n;return s=o<Math.abs(n)?r/4:r/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)+e},easeOutElastic:(t,e,n,i,s=1.70158)=>{if(0==t)return e;if(1==(t/=i))return e+n;let r=.3*i,o=n;return s=o<Math.abs(n)?r/4:r/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((t*i-s)*(2*Math.PI)/r)+n+e},easeInOutElastic:(t,e,n,i,s=1.70158)=>{if(0==t)return e;if(2==(t/=i/2))return e+n;let r=i*(.3*1.5),o=n;return s=o<Math.abs(n)?r/4:r/(2*Math.PI)*Math.asin(n/o),t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)*.5+n+e},easeInBounce:(t,e,n,i)=>n-EasingFn.easeOutBounce(i-t,0,n,i)+e,easeOutBounce:(t,e,n,i)=>(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,easeInOutBounce:(t,e,n,i)=>t<i/2?.5*EasingFn.easeInBounce(2*t,0,n,i)+e:.5*EasingFn.easeOutBounce(2*t-i,0,n,i)+.5*n+e};class CSSUtil{static getCSS(t,e){const n=getComputedStyle(t)[e];if(null==n){const n=new Transform(t);if(n.ifExist(e))return n.get(e)}return n}static setCSS(t,e,n){let i={};"string"==typeof e?i[e]=n:i=e;const s=new Transform(t),r=CSSUtil.getCSSProp(i,s);for(const e in r)1==r[e].transform?s.add(e,r[e].val,r[e].unit):s.el instanceof Element?isNaN(r[e].val)?t.style[e]=r[e].val:t.style[e]=r[e].val+r[e].unit:t[e]&&(t[e]=r[e].val);s.execute()}static getCSSProp(t,e,n=!1){const i={};for(const s in t){if(!Object.hasProp(t,s))continue;if(null!=e.el[s]){i[s]={val:t[s],unit:"",initVal:e.el[s]},e.el instanceof Element&&!CSSUtil.cssNumberUnit(s)&&(i[s].unit="px");continue}const r=String(t[s]);i[s]={val:r,unit:"",transform:0};let o=CSSUtil.unitSplit(r);if(null!==o)if(i[s]={val:o[1],unit:o[2]},e.ifExist(s))i[s].transform=1,i[s].initVal=e.get(s);else{if(i[s].initVal=e.el.style[s],""==i[s].initVal&&""==i[s].initVal)if("width"==s||"height"==s){if(i[s].initVal="width"==s?ElUtil.getElWidth(e.el):ElUtil.getElHeight(e.el),"vw"==i[s].unit||"vh"==i[s].unit){const t="vw"==i[s].unit?Math.max(document.documentElement.clientWidth,window.innerWidth||0):Math.max(document.documentElement.clientHeight,window.innerHeight||0);i[s].initVal=i[s].initVal/t*100}}else i[s].initVal=getComputedStyle(e.el)[s]||0;if(!CSSUtil.cssNumberUnit(s)){if(null==i[s].initVal)return void console.error(s+" is not exist!");if(""==i[s].unit&&(i[s].unit="px"),o=CSSUtil.unitSplit(i[s].initVal),null!==o){let t=o[2];if(t=""==t?"px":t,t!=i[s].unit){const t=getElement(e.el).parent();if(1==t.length){const e=t.width();"%"==i[s].unit?(i[s].rawVal=i[s].initVal,i[s].initVal=Math.toPercent(e,i[s].initVal)):"px"==i[s].unit&&(i[s].rawVal=i[s].initVal,i[s].initVal=Math.percent(e,i[s].initVal))}}}}i[s].initVal=parseFloat(i[s].initVal)}else n&&(s.toLowerCase().indexOf("color")>=0||"fill"==s.toLowerCase())&&(i[s].colorFrom=CSSUtil.parseCSSColor(e.el.style[s]),i[s].colorTo=CSSUtil.parseCSSColor(r),r.startsWith("rgb")&&(i[s].caseRGB=r.slice(0,r.indexOf("("))))}return i}static unitSplit(t){const e=t.toString().match(/^([-.\d]+(?:\.\d+)?)(.*)$/);return null!==e&&null!=e[1]&&(e[1]=e[1].indexOf(".")>=0?parseFloat(e[1]):parseInt(e[1],10)),e}static parseCSSColor(t){if("#"!==t.charAt(0)&&!t.startsWith("rgb")){const e=document.createElement("canvas").getContext("2d");e.fillStyle=t,t=e.fillStyle}if("#"===t.charAt(0)){3===(t=t.slice(1)).length&&(t="".concat(t[0],t[0],t[1],t[1],t[2],t[2]));const e=parseInt(t,16);return[e>>16,e>>8&255,255&e]}return t.startsWith("rgb")?t.match(/[\d+.?\d*]+/g).map(t=>parseFloat(t)):[0,0,0]}static getColorByData(t,e){e=Math.normalize(e,0,1);const n=[];for(let i=0;i<3;i++)n.push(t.colorFrom[i]+(t.colorTo[i]-t.colorFrom[i])*e|0);if(null!=t.caseRGB){if(3===t.caseRGB.length)return t.caseRGB.concat("(",n[0],",",n[1],",",n[2],")");const i=t.colorFrom[3]||1,s=(t.colorTo[3]-i)*e+i;return t.caseRGB.concat("(",n[0],",",n[1],",",n[2],",",s,")")}return"#"+(16777216|n[0]<<16|n[1]<<8|n[2]).toString(16).slice(1)}static getColorFromTo(t,e,n=.5){return CSSUtil.getColorByData({colorFrom:CSSUtil.parseCSSColor(t),colorTo:CSSUtil.parseCSSColor(e)},n)}static cssNumberUnit(t){switch(t){case"animationIterationCount":case"columnCount":case"fillOpacity":case"flexGrow":case"flexShrink":case"fontWeight":case"lineHeight":case"opacity":case"order":case"orphans":case"widows":case"zIndex":case"z-index":case"zoom":return!0}return!1}}class ElUtil{constructor(t){if(null==t)return{length:0};this.length=1,this.el=this[0]=t}addClass(t){const e=t.split(" ");for(let t=0;t<e.length;t++)this.el.classList.add(e[t]);return this}animate(t,e=null,n=null){return this._setData("animate",new AnimationUtil(this.el,t,e,n)),this}append(t){return"string"==typeof t?this.el.insertAdjacentHTML("beforeend",t):(t=getElement(t),this.el.appendChild(t[0])),this}appendTo(t){return getElement(t).append(this.el),this}apply(t,e){return Array.isArray(e)||"[object Arguments]"==Object.prototype.toString.call(e)?this[t].apply(this,e):null!=e?this[t].call(this,e):this[t].call(this)}attr(t,e=null){if("string"==typeof t){if(null==e)return this.el.getAttribute(t);this.el.setAttribute(t,e)}else if(Object.isObject(t))for(const e in t)Object.hasProp(t,e)&&this.el.setAttribute(e,t[e]);return this}blur(){this.el.blur()}children(){return getElements(this.el.children||this.el.childNodes)}clear(){return this.empty()}click(t,e=!1){return t?e?this.on("singleClick",t):this.on("click",t):(this.trigger("click"),this)}clone(t=!0){return getElement(this.el.cloneNode(t))}closest(t){let e={length:0};if(this.el!=window&&this.el!=document)if("string"==typeof t){t=t.replace(/#+(\d?(\w|-)+)/gi,'[id="$1"]');const e=this.el.closest(t);if(e)return getElement(e)}else{const n=getElements(t);n.length>0&&n.each(t=>{if(t[0].contains(this.el))return e=t})}return e}contains(t){return(t=getElement(t)[0])&&this.el!==t&&this.el.contains(t)}css(t,e=null){return null==e&&"string"==typeof t?CSSUtil.getCSS(this.el,t):(CSSUtil.setCSS(this.el,t,e),this)}data(t=null,e=null){if(null==t)return this.el[Symbol.for("ElUtil.data")];if("string"==typeof t){if(null==e)return null==(e=this._getData(t))?this.el.getAttribute("data-"+t):e;this._setData(t,e)}else if(Object.isObject(t))for(const e in t)Object.hasProp(t,e)&&this._setData(e,t[e]);return this}dataAttr(t,e=null){if("string"==typeof t)return this.attr("data-"+t,e);if(Object.isObject(t))for(const e in t)Object.hasProp(t,e)&&this.el.setAttribute("data-"+e,t[e]);return this}dblClick(t,e=null,n=!1){return this.on("dblClick",t,e,n)}delay(t){return ElUtil.delay(this,t)}each(t){return t.apply(this,[this,0]),this}empty(){for(null!=this.el.value&&this.val("");this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}eq(t){return 0==t?this:{length:0}}fadeIn(t=400,e="block",n=null){const i=window.getComputedStyle(this.el);return"none"==i.display?this.show(e).css({opacity:0}):i.display!=e&&this.show(e),this.stop().animate({opacity:1},{duration:t,complete:n})}fadeOut(t=400,e=null){return this.stop().animate({opacity:0},{duration:t,complete:()=>{this.hide(),e&&e(this.el)}})}fadeToggle(t=400,e="block",n=null){return"none"!=window.getComputedStyle(this.el).display?this.fadeOut(t,n):this.fadeIn(t,e,n)}filter(t){const e=getElements(t,this.el.parentNode);if(e.length>0)for(let t=0;t<e.length;t++)if(e[t]==this.el)return this;return{length:0}}find(t){if("string"==typeof t&&t.startsWith(">")){const e=this.children();return e.length>0?e.filter(t.substring(1)):{length:0}}return getElements(t,this)}first(){return this}firstChild(){return new ElUtil(this.el.firstElementChild)}firstParentChild(){return new ElUtil(this.el.parentNode.firstElementChild)}focus(){this.el.focus()}getSelected(t=null){if(this.is("select")){const e=this.el.options[this.el.selectedIndex];return t?e[t]:e}return!1}hasAttr(t){return Boolean(t&&this.el.hasAttribute(t))}hasData(t){return Boolean(t&&null!=this.data(t))}hasDataAttr(t){return Boolean(t&&this.hasAttr("data-"+t))}hasClass(t){const e=t.split(" ");for(let t=0;t<e.length;t++)if(!this.el.classList.contains(e[t]))return!1;return!0}hasEventListener(t,e=null,n=!1){const i=this._getData("eventListeners");if(null!=i)for(const s in i)if(t==s||t==s.split(".")[0]){if(null==e)return!0;for(let t=0;t<i[s].length;t++)if(i[s][t][0]==e){if(n&&i[s][t][1]!=n)continue;return!0}}return!1}height(t=null){return null!=t?(this.css("height",t),this):ElUtil.getElHeight(this.el)}hide(){return this.el.style.display="none",this}hitTestObject(t,e="full"){const n=this.el.getBoundingClientRect();if(0==(t=getElement(t)).length)return!1;let i=!1;const s=t[0].getBoundingClientRect();return i="drop"==e?!(s.right<n.left+n.width/2||s.left>n.right-n.width/2||s.bottom<n.top+n.height/2||s.top>n.bottom-n.height/2):"inside"==e?n.left>=s.left&&n.right<=s.right&&n.top>=s.top&&n.bottom<=s.bottom:!(s.right<n.left||s.left>n.right||s.bottom<n.top||s.top>n.bottom),i}html(t=null,e=!1){return null==t?this.el.innerHTML:(this.empty(),"number"==typeof t?this.el.innerHTML=t:"string"==typeof t?(this.el.innerHTML=t,e&&setTimeout(()=>{const t=this.el.getElementsByTagName("script");t.length>0&&Array.from(t).reduce((t,e)=>t.then(()=>loadJS(e)).catch(t=>{if("element_not_found"!=t)return loadJS(e)}),Promise.resolve())})):this.append(t),this)}ifExist(){return document.body.contains(this.el)}index(){let t=0,e=this.el.parentNode.childNodes;for(let n=0;n<e.length;n++){if(e[n]==this.el)return t;1==e[n].nodeType&&t++}return-1}indexOf(t){return t==this.el?0:-1}innerHeight(){return ElUtil.getElHeight(this.el,!0)}innerWidth(){return ElUtil.getElWidth(this.el,!0)}insertAfter(t){return(t=getElement(t)).length>0&&t[0].parentNode.insertBefore(this.el,t[0].nextSibling),this}insertBefore(t){return(t=getElement(t)).length>0&&t[0].parentNode.insertBefore(this.el,t[0].previousSibling),this}is(t){switch(t){case"animated":{const t=this._getData("animate");return Boolean(t&&t.onProgress())}case":focus":return this.el==window||this.el==document?document.hasFocus():document.activeElement==this.el;case":visible":return this.isVisible();case":empty":return null!=this.el.value?""==this.el.value:!this.el.hasChildNodes();case":exist":return this.ifExist();case":first":return this.el==this.el.parentNode.firstElementChild;case":last":return this.el==this.el.parentNode.lastElementChild;case":disabled":return 1==this.el.disabled;case":checked":return 1==this.el.checked;default:return"string"==typeof t?this.el.tagName==t.toUpperCase()||this.el.type&&this.el.type==t.toLowerCase()||this.filter(t).length:this.el==t}}isVisible(){const t=window.getComputedStyle(this.el);return this.ifExist()&&"none"!=t.display&&"hidden"!=t.visibility&&0!=t.opacity&&0!=parseInt(t.width)&&0!=parseInt(t.height)}keydown(t){return this.on("keydown",t)}keyenter(t){return this.on("keyenter",t)}keyup(t){return this.on("keyup",t)}last(){return this}lastChild(){return new ElUtil(this.el.lastElementChild)}lastParentChild(){return new ElUtil(this.el.parentNode.lastElementChild)}load(t,e=null,n=!1){return ajaxRequest({url:t,success:t=>{this.html(t,n),e&&setTimeout(e)}}),this}mousePosition(t){const e=this.offset();return 0==t.type.indexOf("touch")&&(t=t.touches[0]),new Point(t.pageX-e.left,t.pageY-e.top)}next(t=!1){let e=new ElUtil(this.el.nextElementSibling);if(t){for(;e.length&&!e.isVisible();)e=e.next();if(0==e.length||!e.isVisible())return{length:0}}return e}off(t,e,n=!1){if(null!=t){const i=t.split(" ");if(i.length>0)for(let t=0;t<i.length;t++)this._off(i[t],e,n)}else this._off(t,e,n);return this}offset(){const t=this.el.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}on(t,e,n,...i){const s=t.split(" ");if(s.length>0)for(let t=0;t<s.length;t++)this._on.apply(this,[s[t],e,n,...i]);return this}one(t,e,n,...i){const s=t.split(" ");if(s.length>0)for(let t=0;t<s.length;t++)this._one.apply(this,[s[t],e,n,...i]);return this}outerHeight(t=!1){return ElUtil.getElHeight(this.el,!0,!0,t)}outerHTML(t=null){return null==t?this.el.outerHTML:(this.el.outerHTML=t,this)}outerWidth(t=!1){return ElUtil.getElWidth(this.el,!0,!0,t)}parent(){return new ElUtil(this.el.parentNode)}placeholder(t=null){if("form"==this.el.nodeName.toLowerCase()){const t=this.find('textarea, input[type="text"], input[type="password"], input[type="search"], input[type="url"], input[type="email"], input[type="tel"]');for(let e=0;e<t.length;e++)t.eq(e).placeholder();return this}return null!==t?this.el.placeholder=t:t=this.el.placeholder,""!=t&&this.on("focus",()=>{this.el.hasAttribute("readonly")||this.el.removeAttribute("placeholder")}).on("blur",()=>this.el.setAttribute("placeholder",t)),this}position(){return{left:this.el.offsetLeft,top:this.el.offsetTop}}prepend(t){return"string"==typeof t?this.el.insertAdjacentHTML("afterbegin",t):(t=getElement(t),this.el.insertBefore(t[0],this.el.firstChild)),this}prependTo(t){return getElement(t).prepend(this.el),this}prev(t=!1){let e=new ElUtil(this.el.previousElementSibling);if(t){for(;e.length&&!e.isVisible();)e=e.prev();if(0==e.length||!e.isVisible())return{length:0}}return e}prop(t,e=null){if(null==e)return this.el[t];if("string"==typeof t&&null!=this.el[t])this.el[t]=e;else if(Object.isObject(t))for(const e in t)Object.hasProp(t,e)&&null!=this.el[e]&&(this.el[e]=t[e]);return this}rect(){const t=this.el.getBoundingClientRect();return new Rectangle(parseInt(this.el.offsetLeft,10),parseInt(this.el.offsetTop,10),t.width,t.height)}remove(t=!0){return 1==this.length&&(this.el.parentNode&&this.el.parentNode.removeChild(this.el),t)?(this.stop().off(),this.el[Symbol.for("ElUtil.data")]=null,this[0]=this.el=null,this.length=0,{length:0}):this}removeAttr(t){return this.el.removeAttribute(t),this}removeDataAttr(t){return this.removeAttr("data-"+t)}removeClass(t=null){if(null==t)this.el.removeAttribute("class");else{const e=t.split(" ");for(let t=0;t<e.length;t++)this.el.classList.remove(e[t])}return this}replaceWith(t){this.el.parentNode.replaceChild(t,this.el)}reset(){return"form"==this.el.nodeName.toLowerCase()&&this.el.reset(),this}resume(){const t=this._getData("animate");return t&&t.resume(),this}scrollBottom(t=0,e=150,n=null,i="linear"){return setTimeout(()=>{this.scrollTop(this.el.scrollHeight,t,n,i)},e),this}scrollLeft(t,e=0,n=null,i="linear"){const s=ElUtil.getScrollEl(this.el);return null==t?s.scrollLeft:(getElement(s).stop().animate({scrollLeft:t},{duration:e,complete:n,easing:i}),this)}scrollTop(t,e=0,n=null,i="linear"){const s=ElUtil.getScrollEl(this.el);return null==t?s.scrollTop:(getElement(s).stop().animate({scrollTop:t},{duration:e,complete:n,easing:i}),this)}serialize(t=!1){const e={},n=this.find("input, select, textarea");for(let t=0;t<n.length;t++){const i=n[t];if(i.name&&null==e[i.name]&&!i.disabled&&!/(file|reset|submit|button)/i.test(i.type)){if(/(checkbox|radio)/i.test(i.type)&&!i.checked)continue;e[i.name]="string"==typeof i.value?i.value.trim():i.value}}if(t){const t=[];for(let n in e)Object.hasProp(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return e}setAttr(t,e=null){const n=document.createAttribute(t);return null!=e&&(n.value=e),this.el.setAttributeNode(n),this}show(t="block"){return this.el.style.display=t,this}siblings(){const t=[];return Array.prototype.filter.call(this.el.parentNode.children,e=>{e!==this.el&&t.push(e)}),new ElsUtil(t)}stop(t=!1,e=!1){const n=this._getData("animate");return n&&n.stop(t,e),this}submit(){return"form"==this.el.nodeName.toLowerCase()&&this.el.submit(),this}svgRect(){return Rectangle.objToRect(this.el.getBBox())}text(t=null){return null==t?this.el.textContent:(this.el.textContent=t,this)}toggle(t="block"){return"none"!=window.getComputedStyle(this.el).display?this.hide():this.show(t)}toggleClass(t,e=null){return!0===e?this.addClass(t):!1===e?this.removeClass(t):this.el.classList.toggle(t),this}trigger(t,e=!0,n=!0){return this.el.dispatchEvent(new Event(t,{bubbles:e,cancelable:n})),this}val(t=null){return null==t?("string"==typeof(t=this.el.value)&&(t=t.trim()),t):(this.el.value=t,this)}width(t=null){return null!=t?(this.css("width",t),this):ElUtil.getElWidth(this.el)}_getData(t){const e=Symbol.for("ElUtil.data");return null!=this.el[e]&&null!=this.el[e][t]?this.el[e][t]:null}_setData(t,e){const n=Symbol.for("ElUtil.data");null==this.el[n]&&(this.el[n]={}),this.el[n][t]=e}_on(t,e,n,...i){if(t.startsWith("touch")&&0==_os.touch)return;const s=t.split(".")[0];let r,o,l,a;"string"==typeof e?(r=e,e=n,Object.isFunction(i[0])?(l=i[0],n=!0===i[1],a=!0===i[2]):(n=!0===i[0],a=!0===i[1])):Object.isFunction(n)?(l=n,n=!0===i[0],a=!0===i[1]):(n=!0===n,a=!0===i[0]),o=n;let c=s.startsWith("swipe");switch(s){case"wheel":case"mousewheel":case"touchstart":case"touchmove":c=!0}c&&EventPlugin.supportPassiveEvents&&(o={passive:!0===a,capture:n});let u=new EventPlugin(this.el,s,{eventHandler:e,secEventHandler:l,childSelector:r,useCapture:n,eventOption:o});u.isActive()||(u=null,this.el.addEventListener(s,e,o));let h=this._getData("eventListeners");return null==h&&(h={},this._setData("eventListeners",h)),null==h[t]&&(h[t]=[]),h[t].push([e,n,u]),n}_one(t,e,n,...i){const s=this;let r,o;function l(e){s._off(t,l,r),callbackEvent(o,e,this)}"string"==typeof e?(o=n,r=this._on.apply(this,[t,e,l,...i])):(o=e,r=this._on.apply(this,[t,l,n,...i]))}_off(t=null,e=null,n=!1){const i=this._getData("eventListeners");if(null!=i)for(const s in i){if(!Object.hasProp(i,s))continue;const r=s.match(/\.(.*)\S+/);if(null==t||t==s||r&&r[0]==t){const t=i[s];if(null!=t&&t.length>0){for(let i=0;i<t.length;i++)null!=e&&e!=t[i][0]||null!=n&&n!=t[i][1]||(null!=t[i][2]?t[i][2].removeEventListener():this.el.removeEventListener(s.split(".")[0],t[i][0],t[i][1]),t.splice(i--,1));0==t.length&&delete i[s]}}}}static create(t,e=null){if(null!=e){if(0==(e=getElement(e)).length)return{length:0};e=e[0]}if(ElUtil.isElUtil(t))return e&&!e.contains(t[0])?{length:0}:t;if(ElUtil.isDomElement(t))return e&&!e.contains(t)?{length:0}:new ElUtil(t);t&&"string"==typeof t&&(t=t.replace(/#+(\d?(\w|-)+)/gi,'[id="$1"]'));const n=ElUtil.getSelector(t,e||document);return n?new ElUtil(n):{length:0}}static delay(t,e){let n=!1,i=[];const s={get:(s,r,o)=>(...l)=>"stopDelay"==r?(n=!0,s):"delay"==r?ElUtil.delay(t,e+l[0]):!n&&i?(i.push({name:r,args:l}),o):void 0};return setTimeout(()=>{for(let e=0;e<i.length;++e)t.apply(i[e].name,i[e].args);i=null},e),new Proxy(t,s)}static isElUtil(t){return t instanceof ElUtil||t instanceof ElsUtil}static isDomElement(t){return t instanceof Element&&t.nodeName||t===window||t===document}static getElWidth(t,e=!1,n=!1,i=!1){if(t==window)return window.innerWidth;if(t==document)return document.documentElement.scrollWidth;const s=getComputedStyle(t);let r=t.clientWidth;return 0==r&&s.width.endsWith("px")&&(r=parseFloat(s.width)),e||(r-=parseFloat(s.paddingLeft,10)+parseFloat(s.paddingRight,10)||0),n&&(r+=parseFloat(s.borderLeft,10)+parseFloat(s.borderRight,10)||0),i&&(r+=parseFloat(s.marginLeft,10)+parseFloat(s.marginRight,10)||0),Math.max(r,0)}static getElHeight(t,e=!1,n=!1,i=!1){if(t==window)return window.innerHeight;if(t==document)return document.documentElement.scrollHeight;const s=getComputedStyle(t);let r=t.clientHeight;return 0==r&&s.height.endsWith("px")&&(r=parseFloat(s.height)),e||(r-=parseFloat(s.paddingTop,10)+parseFloat(s.paddingBottom,10)||0),n&&(r+=parseFloat(s.borderTop,10)+parseFloat(s.borderBottom,10)||0),i&&(r+=parseFloat(s.marginTop,10)+parseFloat(s.marginBottom,10)||0),Math.max(r,0)}static windowOnScrollStopped(t,e=550){let n=0;window.addEventListener("scroll",()=>{clearTimeout(n),n=setTimeout(()=>{callbackEvent(t,window.pageYOffset,window)},e)})}static getRootEl(t,e){const n=Symbol.for("ElUtil."+t);return ElUtil[n]||(ElUtil[n]=new ElUtil(e)),ElUtil[n]}static getSelector(t,e=document){if("string"==typeof t)try{return e.querySelector(t)}catch(t){}return console.error("Invalid selector:",t),!1}static getSelectorAll(t,e=document){if("string"==typeof t)try{return e.querySelectorAll(t)}catch(t){}return console.error("Invalid selector:",t),!1}static getScrollEl(t){let e=t==window||t==document?document.body:t;return e!=document.body||_os.safari||_os.edge||(e=document.documentElement),e}static get window(){return ElUtil.getRootEl("win",window)}static get document(){return ElUtil.getRootEl("doc",document)}static get body(){return ElUtil.getRootEl("body",document.body)}}class ElsUtil{constructor(t){if(!t||0==t.length)return{length:0};if(1==t.length)return new ElUtil(t[0]);this._elUtils=[],this.length=t.length;for(let e=0;e<t.length;e++)this._elUtils[e]=new ElUtil(t[e]),this[e]=this._elUtils[e][0]}apply(t,e){if(this._elUtils){let n=null;for(let i=0;i<this._elUtils.length;i++){const s=this._elUtils[i];if(1==s.length){const r=s.apply(t,e);if("remove"==t)!1!==e&&(this._elUtils[i]=null,this._elUtils.splice(i--,1));else if(this._elUtils.length>1&&r.length>0)"serialize"==t?n=Object.assign(n||{},r):"find"==t&&(null==n&&(n=[]),r.each(t=>{n.push(t[0])}));else if(r!==s)return r}}if(null!==n){if("serialize"==t)return n;if("find"==t)return new ElsUtil(n)}}return"remove"==t&&!1!==e?(this._elUtils=null,this.length=0,{length:0}):this}delay(t){return ElUtil.delay(this,t)}each(t){for(let e=0;e<this._elUtils.length;e++){const n=this._elUtils[e];if(1==n.length&&void 0!==t.apply(n,[n,e]))break}return this}eq(t){return this._elUtils[t]?this._elUtils[t]:{length:0}}first(){return this.eq(0)}filter(t){const e=getElements(t);if(e.length>0){const t=[];if(e.each(e=>{this.indexOf(e[0])>=0&&t.push(e[0])}),t.length>0)return new ElsUtil(t)}return{length:0}}indexOf(t){for(let e=0;e<this._elUtils.length;e++){const n=this._elUtils[e];if(1==n.length&&n[0]==t)return e}return-1}last(){return this.eq(this._elUtils.length-1)}static create(t,e=null){if(null!=e){if(0==(e=getElement(e)).length)return{length:0};e=e[0]}if(ElUtil.isElUtil(t))return e&&!e.contains(t[0])?{length:0}:t;if(ElUtil.isDomElement(t))return e&&!e.contains(t)?{length:0}:new ElUtil(t);let n;if(t instanceof HTMLCollection||t instanceof NodeList){n=[];for(let i=0;i<t.length;i++)if(t instanceof HTMLCollection||1==t[i].nodeType||9==t[i].nodeType){if(e&&!e.contains(t[i]))continue;n.push(t[i])}}else t&&(t=t.replace(/#+(\d?(\w|-)+)/gi,'[id="$1"]')),n=ElUtil.getSelectorAll(t,e||document);return new ElsUtil(n)}}Object.getOwnPropertyNames(ElUtil.prototype).forEach(t=>{t.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|toString|apply|each|eq|filter|first|indexOf|last|delay|length)$/)||(ElsUtil.prototype[t]=function(){return this.apply(t,arguments)})});const createEl=(t,e=null,n=null)=>{const i=t.split(">"),s=new ElUtil(document.createElement(i[0]));if(null!=e&&("string"==typeof e?s.addClass(e):s.attr(e)),null!=n&&(s[0].id=n),i.length>1)for(let t=1;t<i.length;t++)new ElUtil(document.createElement(i[t])).appendTo(s);return s},getElement=(t,e=null)=>ElUtil.create(t,e),getElements=(t,e=null)=>{if("string"==typeof t&&(t=t.trim()).startsWith("<")&&t.endsWith(">")){let n;return t.length<=8?n=createEl(t.substring(1,t.length-1)):(t=t.parseHTML(),n=ElsUtil.create(t)),Object.isObject(e)&&n.attr(e),n}return ElsUtil.create(t,e)},_$=getElements;_$.noop=()=>{},_$.ajax=ajaxRequest,_$.getJSON=function(t,e=null){ajaxRequest({url:t,success:e,dataType:"json"})},_$.get=function(t,e=null,n=null,i="text"){ajaxRequest({url:t,data:e,success:n,dataType:i})},_$.post=function(t,e=null,n=null,i="text"){ajaxRequest({url:t,data:e,success:n,dataType:i,type:"POST"})};class Timer{constructor(t,e=null,n=!1){if(null!=e){const t=Symbol.for("Timer.timerID");if(null!=Timer[t])return Timer[t];Timer[t]=this}const i=this;let s,r,o=0,l=0,a=0,c=!1;function u(t,e,i=!1){f(),l=parseInt(t,10),a=parseInt(e,10),r=i?p:h,n?(s={fn:r,id:0,dt:1},m()):o=setInterval(r,1e3),g(Timer.Events.start)}function h(){l+=1,g(Timer.Events.onTime),a>0&&l>=a&&d()}function p(){l-=1,g(Timer.Events.onCountDown),l<=0&&d()}function d(){f(),g(Timer.Events.onExpired)}function g(e){callbackEvent(t,[e,l,a],i)}function f(){clearInterval(o),s&&(cancelAnimationFrame(s.id),s={fn:r,id:0,dt:1})}function m(){const t=Math.ceil(performance.now()/1e3);s.dt<t&&(s.dt=t,s.fn()),s.id=requestAnimationFrame(m)}i.start=(t=0,e=0)=>t<0||e>0&&t>=e?(d(),!1):(u(t,e),!0),i.startCountDown=t=>t<=0?(d(),!1):(u(t,t,!0),!0),i.stop=()=>{f(),g(Timer.Events.stop)},i.resume=()=>{c&&r&&(f(),n?m():o=setInterval(r,1e3),c=!1,g(Timer.Events.resume))},i.pause=()=>{f(),c=!0,g(Timer.Events.pause)},i.clear=()=>{f(),l=0,a=0,g(Timer.Events.clear)},i.getTime=function(){return l},i.getCount=function(){return a}}static digitFormat(t){return(t=Math.floor(t))<10?"0"+t:String(t)}static get Events(){return{clear:"onClear",onCountDown:"onCountDown",onExpired:"onExpired",onTime:"onTime",resume:"onResume",pause:"onPause",start:"onStart",stop:"onStop"}}static getDate(t=null,e="/"){const n=[],i=t?new Date(t):new Date;return n.push(Timer.digitFormat(i.getDate())),n.push(Timer.digitFormat(i.getMonth()+1)),n.push(Timer.digitFormat(i.getFullYear())),n.join(e)}static getElapsedTime(t,e){const n=new Date(t).getTime()/1e3,i=(new Date).getTime()/1e3,s=new Timer(e,1);return s.startCountDown(n-i),s}static getFormat(t){const e={};return t<0&&(t=0),e.days=Timer.digitFormat(t/3600/24),e.hour=Timer.digitFormat(t/3600%24),e.min=Timer.digitFormat(t/60%60),e.sec=Timer.digitFormat(t%60),e}static getFormatToString(t,e=":",n=!1){const i=[],s=Timer.getFormat(t);return n&&i.push(s.hour),i.push(s.min),i.push(s.sec),i.join(e)}static getTime(t=null,e=":",n=!1){const i=[],s=t?new Date(t):new Date;return i.push(Timer.digitFormat(s.getHours())),i.push(Timer.digitFormat(s.getMinutes())),n&&i.push(Timer.digitFormat(s.getSeconds())),i.join(e)}static getTimeAgo(t,e=!1){let n="";const i=new Date(t).getTime()/1e3,s=(new Date).getTime()/1e3;if(s>=i){const t=[60,60,24,30,12,10];let r,o,l=s-i;for(r=0;l>=t[r]&&r<t.length-1;r++)l/=t[r];if(l=Math.round(l),e){if(o=["секунда","минута","час","ден","месец","година"],n="преди "+l+" "+o[r],1!=l){const t=["и","и","-а","ни","-а","и"];t[r].startsWith("-")?n+=t[r].substring(1):n=n.slice(0,-t[r].length)+t[r]}}else o=["second","minute","hour","day","month","year"],n=l+" "+o[r]+(1!=l?"s":"")+" ago"}return n}}class Transform{constructor(t){this.el=t;const e=Transform.testProp("transform"),n=[{unit:"",def:1},{unit:"deg",def:0},{unit:"px",def:0}],i={rotate:1,rotateX:1,rotateY:1,rotateZ:1,scale:0,scaleX:0,scaleY:0,scaleZ:0,skewX:1,skewY:1,perspective:2,translateX:2,translateY:2,translateZ:2};let s,r=!1;function o(){s={};const i=getComputedStyle(t)[e];if(null!=i&&i.startsWith("matrix(")){const t=i.split(/matrix\(|,|\)/).filter(t=>""!==t),e=t[0],r=t[1],o=t[2],l=t[3],a=Math.round(Math.atan2(r,e)*(180/Math.PI)),c=parseFloat(t[4]),u=parseFloat(t[5]),h=Math.toFixed(Math.sqrt(e*e+r*r),3),p=Math.toFixed(Math.sqrt(l*l+o*o),3);1!=h&&1!=p&&(s.scaleX=h,s.scaleY=p),isNaN(a)||0==a||(s.rotate=a),0!=c&&(s.translateX=c+n[2].unit),0!=u&&(s.translateY=u+n[2].unit)}}this.ifExist=e=>null!=i[e]&&t instanceof Element,this.add=(t,e,l=null)=>{this.ifExist(t)&&(s||o(),l||(l=n[i[t]].unit),e=parseFloat(e)+l,"scale"==t?(s.scaleX=e,s.scaleY=e):s[t]=e,r=!0)},this.get=t=>{if(!this.ifExist(t))return null;if(s||o(),"scale"==t&&(t="scaleX"),null!=s[t])return s[t];const e=n[i[t]];return e.def+e.unit},this.execute=()=>{if(!r)return!1;let n,i,o="";for(const t in s)if(Object.hasProp(s,t))switch(t){case"translateX":case"translateY":case"translateZ":null==n&&(n="translate3d("+(s.translateX||0)+","+(s.translateY||0)+","+(s.translateZ||0)+") ");break;case"scale":case"scaleX":case"scaleY":if(null==i){i="scale("+(null!=s.scaleX?s.scaleX:1)+","+(null!=s.scaleY?s.scaleY:1)+") "}break;default:o+=t+"("+s[t]+") "}n&&(o+=n),i&&(o+=i),o&&(t.style[e]=o)}}static testProp(t){const e=Symbol.for("Transform.prefixedProp");if(null!=Transform[e])return Transform[e];const n=["","webkit","moz","ms","o"];for(let e=0,i=n.length;e<i;e++){const i=n[e]?n[e]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==document.body.style[i])return Transform[i]=i,i}}}